"use strict";var s=require("express"),c=require("http"),i=require("socket.io"),d=s(),t=c.createServer(d),l=i(t,{cors:{origin:"*"},autoConnect:!1}),r=process.env.PORT||3001;l.on("connection",e=>{console.log(`Client ${e.id} connected`);let{playgroundId:o}=e.handshake.query;console.log("New Playground Id Connection: ",o),e.join(o),e.on("update",n=>{console.log("Received Update From Client: ",o),e.broadcast.to(o).emit("serverUpdate",{nodes:n.nodes,edges:n.edges})}),e.on("disconnect",()=>{console.log(`Client ${e.id} disconnected`),e.leave(o)})});t.listen(r,()=>{console.log(`Server listening on port ${r}`)});
//# sourceMappingURL=index.js.map